# Домашние задания по курсу DevOps
В данном репозитории выкладываются выполненные домашние задания по курсу DevOps.


## Домашняя работа 1. Отображение погоды в текущем городе 
Скрипт weather_script.sh позволяет получить температуру (в градусах Цельсия) и влажность в выбранной локации. Локация передается
в виде параметра. 

Данный скрипт использует [wttr.in](https://github.com/chubin/wttr.in) для получения данных о погоде.
#### Пример
```
$ ./weather_script.sh Perm
Temperature: 19 C
Humidity: 73 %
```


## Домашняя работа 2. Git
Создать данный репозиторий. Добавить описание для него


## Домашняя работа 3. Ansible part 1
Ansible сценарий, который: 
- Устанавливает Nginx на группу web серверов
- Активирует Nginx
- Копирует локальный конфиг
- Копирует новый index.html

В результате выполнения доступна следующая страница по адресу http://ip_host/


![image](https://user-images.githubusercontent.com/47751026/121514522-8df19880-ca05-11eb-897f-32591ac481b1.png)


## Домашняя работа 4. Ansible part 2
Ansible сценарий из домашней работы 3 с добавленным handler'ом, который проверяет конфигурационный файл и перезапускает nginx если конфигурационный файл верный.

Результат выполнения: см. результат из домашнего задания 3

## Домашнее задание 5. Ansible part 3 (В процессе)
- Необходимо создать 2 роли для настройки базы данных:
  - common - для установки базовый пакетов
  - db - для установки и настройки базы данных
- Определить переменные, которые будут использоваться:
  - переменные по умолчанию
  - глобальные переменные
- Добавить зависимость роли db от common
- Наполнить роли необходимыми действиями
- Добавить обработчики для перезапуска postgresql
- Пользователю postgres сменить пароль на пароль из переменной
- Написать playbook с использованием ролей, для настройки сервера db

Для запуска необходимо установка psycopg2. 
 - Установить Python 2.7
 - Установить pip2 (https://linuxize.com/post/how-to-install-pip-on-ubuntu-20.04/)
 - Установить psycopg2-binary (https://stackoverflow.com/questions/47318227/cannot-install-psycopg2-ubuntu/47318374)

## Домашнее задание 6. Контейнеризация с Docker
Задание: 
- Описать контейнер для запуска nginx 
- После запуска контейнера можно открыть страницу с текстом "DevOps Course".

Для сборки и запуска контейнера нужно запустить startup-script.sh в директории с dockerfile и index.html

